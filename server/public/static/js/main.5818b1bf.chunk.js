(this.webpackJsonpnwhacks=this.webpackJsonpnwhacks||[]).push([[0],{80:function(e,t,a){e.exports=a(97)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){e.exports=a.p+"static/media/doge.1ab15af9.png"},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(8),r=a.n(c),o=(a(85),a(10)),i=a(40),s=a(26),u=(a(86),a(126)),m=a(68),d=a(148),h=a(63),p=a.n(h),E=a(64),f=a.n(E),g=(a(87),Object(s.f)((function(e){var t=e.loggedIn,a=e.username,c=e.history,r=e.openModal,i=e.handleLogout,s=Object(n.useState)(null),h=Object(o.a)(s,2),E=h[0],g=h[1],v=Boolean(E);return l.a.createElement(u.a,null,l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"title",onClick:function(){c.push("/")}},l.a.createElement(p.a,null),l.a.createElement("h3",null,"Watch Doge")),t?l.a.createElement("div",{className:"navigate"},l.a.createElement("div",{className:"navigate-contents",onClick:function(e){return g(e.currentTarget)}},l.a.createElement(f.a,{style:{marginRight:5}}),a),l.a.createElement(m.a,{open:v,onClose:function(){return g(null)},anchorEl:E,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0},l.a.createElement(d.a,{onClick:function(){c.push("/profile"),g(null)}},"View Trackers"),l.a.createElement(d.a,{onClick:function(){i(),window.location.href="/"}},"Log out"))):l.a.createElement("div",{className:"signUp",onClick:r},l.a.createElement("h4",null,"Log in"))))}))),v=(a(93),a(149)),b=a(134),y=a(98),j=a(151),O=a(137),C=a(144),k=a(135),N=a(146),T=a(131),S=a(4),w=a(136),x=a(145),I=function(e){var t=e.open,a=e.onClose;return l.a.createElement(x.a,{open:t,onClose:a},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-contents",style:{textAlign:"center"}},l.a.createElement("h3",null,"Track successfully created!"),l.a.createElement(T.a,{onClick:a,variant:"contained",color:"primary"},"Close"))))},L=function(e){var t=e.open,a=e.onClose;return l.a.createElement(x.a,{open:t,onClose:a},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-contents",style:{textAlign:"center"}},l.a.createElement("h3",null,"Something went wrong! Please check your syntax."),l.a.createElement(T.a,{onClick:a,variant:"contained",color:"primary"},"Close"))))},D=Object(S.a)({root:{}})(v.a),R=[{value:'"!="',item:"!="},{value:'"="',item:"="},{value:'"<"',item:"<"},{value:'">"',item:">"}],z=function(e){return RegExp(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i).test(e)},A=Object(w.a)({formControl:{minWidth:90,marginRight:10}}),W=function(e){var t,c=e.username,r=e.loggedIn,i=A(),s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],h=u[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],g=E[1],v=Object(n.useState)("Track Change"),S=Object(o.a)(v,2),w=S[0],x=S[1],W=Object(n.useState)(""),P=Object(o.a)(W,2),_=P[0],B=P[1],J=Object(n.useState)(""),U=Object(o.a)(J,2),V=U[0],M=U[1],$=Object(n.useState)(!1),q=Object(o.a)($,2),H=q[0],F=q[1],G=Object(n.useState)(!1),K=Object(o.a)(G,2),Q=K[0],X=K[1];return l.a.createElement("div",{className:"page"},l.a.createElement("div",{className:"page-content"},l.a.createElement("div",{className:"top-page"},l.a.createElement("div",null,l.a.createElement("p",{className:"title"},"WebPage Change Tracker"),l.a.createElement("p",null,"Track a web page's text by entering the url and the css tag associated with the text.")),l.a.createElement("div",{className:"image-container"},l.a.createElement("img",{src:a(94),className:"image"}))),l.a.createElement("div",{style:{width:"70%"}},l.a.createElement("p",null,"Enter the URL you want to track."),l.a.createElement(D,{id:"url-input",label:"URL",onChange:function(e){return h(e.target.value)},value:m,variant:"outlined",margin:"dense",error:m.length>0&&!z(m),helperText:m.length>0&&!z(m)&&"Invalid URL",style:{width:"100%"}})),l.a.createElement("div",{className:"additional-info ".concat(z(m)&&"additional-info-show")},l.a.createElement("p",null,"Additional Information Required"),l.a.createElement(D,{id:"class-input",label:"Class/ID of Text",onChange:function(e){return g(e.target.value)},value:f,variant:"outlined",margin:"dense"})),l.a.createElement("div",{className:"additional-info ".concat((t=f,t.length>0&&"additional-info-show"))},l.a.createElement(b.a,{style:{width:200}},l.a.createElement(y.a,{component:"type-of-change"},"Test"),l.a.createElement(j.a,{value:w,onChange:function(e){return x(e.target.value)}},l.a.createElement(O.a,{value:"Track Change",control:l.a.createElement(C.a,{color:"primary"}),label:"Track Change",labelPlacement:"end"}),l.a.createElement(O.a,{value:"Track Threshold",control:l.a.createElement(C.a,{color:"primary"}),label:"Track Threshold",labelPlacement:"end"}))),"Track Threshold"===w&&l.a.createElement("div",{className:"threshold-input"},l.a.createElement(b.a,{className:i.formControl},l.a.createElement(k.a,{id:"operator"},"Operator"),l.a.createElement(N.a,{labelId:"operator",id:"operator",value:_,onChange:function(e){return B(e.target.value)},autoWidth:!0},R.map((function(e){return l.a.createElement(d.a,{value:e.value,key:e.item},e.item)})))),l.a.createElement(D,{id:"threshold-input",label:"Threshold Value",onChange:function(e){return M(e.target.value)},value:V,variant:"outlined",margin:"dense"})),l.a.createElement(T.a,{variant:"contained",color:"primary",style:{marginTop:20},onClick:function(){r&&fetch("/jobs",{method:"POST",body:JSON.stringify({user_id:c,url:m,selector:f,track_condition:w,condition:_,value:V}),headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?F(!0):X(!0)})).catch((function(e){X(!0)}))},disabled:"Track Threshold"===w&&0===V.length},"Submit"))),l.a.createElement(I,{open:H,onClose:function(){return F(!1)}}),l.a.createElement(L,{open:Q,onClose:function(){return X(!1)}}))},P=a(139),_=a(140),B=a(141),J=a(142),U=a(152),V=a(99),M=a(143),$=a(138),q=a(67),H=a.n(q),F=(a(95),function(e){var t=e.open,a=e.onClose,n=e.handleDelete;return l.a.createElement(x.a,{open:t,onClose:a},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-contents",style:{textAlign:"center",padding:"10px 20px 30px 20px"}},l.a.createElement("h3",null,"Are you sure you want to delete the tracker?"),l.a.createElement("div",null,l.a.createElement(T.a,{onClick:n,variant:"contained",color:"secondary",style:{marginRight:30}},"Delete"),l.a.createElement(T.a,{onClick:a,variant:"contained",color:"primary"},"No")))))}),G=Object(w.a)({content:{marginBottom:14,marginTop:14},card:{minHeight:230}}),K=Object(s.f)((function(e){var t=e.username,a=e.loggedIn,c=e.history,r=G(),i=Object(n.useState)([]),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!0),h=Object(o.a)(d,2),p=h[0],E=h[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),v=g[0],b=g[1],y=Object(n.useState)(""),j=Object(o.a)(y,2),O=j[0],C=j[1];Object(n.useEffect)((function(){a||c.push("/"),fetch("/jobs?user_id=".concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return"DELETED"!==e.fields.id}));E(!1),m(t)}))}),[]);return l.a.createElement("div",{className:"page page-profile"},l.a.createElement("div",{className:"page-content"},p?l.a.createElement(P.a,{style:{margin:30}}):l.a.createElement("div",{className:"page-container"},l.a.createElement(_.a,{container:!0,spacing:2},u.map((function(e,t){var a=e.fields,n=a.url.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return l.a.createElement(_.a,{item:!0,key:a.id},l.a.createElement(B.a,{key:a.id,variant:"outlined",className:r.card},l.a.createElement(J.a,null,l.a.createElement(U.a,{title:a.url,placement:"bottom",arrow:!0},l.a.createElement("div",null,l.a.createElement(V.a,{color:"textSecondary"},"Webpage #".concat(t+1)),l.a.createElement(V.a,{variant:"h5",component:"h2"},n[2]))),l.a.createElement(V.a,{className:r.content,variant:"body2",component:"p"},"Selector: ".concat(a.selector)),a.condition.length>0?l.a.createElement(V.a,{variant:"body2",component:"p"},"Operator: ".concat(a.condition)):l.a.createElement(V.a,{variant:"body2",component:"p",style:{visibility:"hidden"}},"Operator:"),a.value.length>0?l.a.createElement(V.a,{variant:"body2",component:"p"},"Value: ".concat(a.value)):l.a.createElement(V.a,{variant:"body2",component:"p",style:{visibility:"hidden"}},"Value:")),l.a.createElement(M.a,null,l.a.createElement($.a,{size:"small",onClick:function(){var e;e=a.id,C(e),b(!0)},variant:"contained",color:"secondary"},l.a.createElement(H.a,null)))))}))),l.a.createElement("div",{className:"add-tracker"},l.a.createElement("h4",{onClick:function(){c.push("/")}},"Add an additional tracker...")))),l.a.createElement(F,{open:v,onClose:function(){return b(!1)},handleDelete:function(){fetch("/jobs",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,id:O})}).then((function(e){b(!1),200===e.status&&(E(!0),fetch("/jobs?user_id=".concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return"DELETED"!==e.fields.id}));E(!1),m(t)})))}))}}))})),Q=(a(96),Object(s.f)((function(e){var t=e.open,a=e.onClose,c=e.login,r=e.history,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),h=Object(o.a)(d,2),p=h[0],E=h[1],f=Object(n.useState)(""),g=Object(o.a)(f,2),b=g[0],y=g[1];return l.a.createElement(x.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:t,onClose:a},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-contents"},l.a.createElement("h3",null,"Log in"),u?l.a.createElement(P.a,null):l.a.createElement("form",{className:"login-contents"},l.a.createElement(v.a,{value:b,onChange:function(e){return y(e.target.value)},variant:"outlined",margin:"dense",placeholder:"Type your username...",style:{marginBottom:20},helperText:p.length>0&&p}),l.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),m(!0),fetch("/login",{method:"POST",body:JSON.stringify({user_id:b}),headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status?(c(b),r.push("/profile")):(m(!1),E("Invalid username."))})).catch((function(e){alert(e)}))},type:"submit"},l.a.createElement("span",null,"Log in"))))))}))),X=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),u=Object(o.a)(r,2),m=u[0],d=u[1],h=Object(n.useState)(!1),p=Object(o.a)(h,2),E=p[0],f=p[1];return l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g,{loggedIn:a,username:m,openModal:function(){return f(!0)},handleLogout:function(){c(!1),d("")}}),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(W,{username:m,loggedIn:a})),l.a.createElement(s.a,{path:"/profile"},l.a.createElement(K,{username:m,loggedIn:a}))),l.a.createElement(Q,{open:E,onClose:function(){return f(!1)},login:function(e){c(!0),d(e),f(!1)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.5818b1bf.chunk.js.map